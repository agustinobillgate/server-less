DEF TEMP-TABLE t-history LIKE history.

DEF INPUT PARAMETER s-recid AS INTEGER NO-UNDO.
DEF INPUT PARAMETER TABLE FOR t-history.

DEF OUTPUT PARAMETER successFLag AS LOGICAL INITIAL NO.

FIND FIRST t-history NO-ERROR.
IF NOT AVAILABLE t-history THEN RETURN.

FIND FIRST history WHERE RECID(history) = s-recid EXCLUSIVE-LOCK NO-ERROR.
IF AVAILABLE history THEN
DO:
  BUFFER-COPY t-history TO history.
  FIND CURRENT history NO-LOCK.
  successFlag = YES.
END.

